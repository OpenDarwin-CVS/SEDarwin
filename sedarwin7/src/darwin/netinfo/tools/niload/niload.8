.\" @(#)niload.8      92/05/07 JJ
.TH NILOAD 8 "December 22, 1992" "Apple Computer, Inc."
.SH NAME
niload \- load text or flat-file-format data into NetInfo
.SH SYNOPSIS
.B niload
[\ \fB\-v\fR\ ] [\ \fB\-d\fR\ ] [\ \fB\-m\fR\ ] [\ \fB\-p\fR\ ] [\ \fB\-t\fR\ ]
{\ \fB\-r\fR\ \fIdirectory\fR\ |\ \|\fIformat\fR\ } \fIdomain\fR
.SH DESCRIPTION
.I niload 
loads information from standard input
into the given NetInfo 
.IR domain .
If
.I format
is specified, the input is
interpreted according to
the flat-file file format of the same name.
The allowed values for \fIformat\fR are
.BR aliases ,
.BR bootparams ,
.BR bootptab ,
.BR exports ,
.BR fstab ,
.BR group ,
.BR hosts ,
.BR networks ,
.BR passwd ,
.BR printcap ,
.BR protocols ,
.BR rpc ,
and
.BR services .
.PP
If \fB\-r\fR\ \fIdirectory\fR is specified
instead of a flat-file file format,
the input is interpreted
as \*(lqraw\*(rq NetInfo data,
as generated by \fBnidump\ \-r\fR,
and loaded into \fIdirectory\fR.
Note that this operation will delete and replace the entire NetInfo subtree at the specified directory.
Any existing records in this subtree will be lost.
.PP
.I niload
overwrites entries
in the existing directory
with those given in the input.
Entries that are in the directory
aren't deleted if they don't exist in the input,
unless the \fB\-d\fR option is specified.
.I niload
must be run as superuser
on the master NetInfo server for the given
domain, unless one specifies the 
.B \-p 
option,
which allows one to run from anywhere in the network.
.SH OPTIONS
.TP
.B \-v
Verbose.
Prints details of records as they are updated (flat-file formats only).
.TP
.B \-d
Delete entries which are in the directory,
but not in the input.
.TP
.B \-m
Merge properties and values.  Existing properties will be preserved in the database if they are not present in the input.  For example, if a user record has a \*(lqpicture\*(rq property, loading a passwd-format record for this user will preserve the property.  Property values are also merged.
.TP
.B \-p
Prompt for the root password of the given domain
so that one can run
from other locations in the network besides the master.
.TP
.B \-t
Interpret the domain as a tagged domain.
For example, \*(lqtrotter/network\*(rq
refers to the database tagged \*(lqnetwork\*(rq
on the machine \*(lqtrotter\*(rq.
The machine name can be an actual name or an IP address.
.TP
.B \-r
Load entries in \*(lqraw\*(rq format,
as generated by \fBnidump \-r\fR.
The first argument should be the path
of a NetInfo directory
into which the information is loaded.
Since the input often specifies properties
(including \*(lqname\*(rq) at its topmost level,
the directory you specify may be renamed
as a result of this operation.
If the directory you specify does not exist,
it will be created.
.SH EXAMPLES
\*(lqniload passwd . < /etc/passwd\*(rq
loads the local /etc/passwd file into
the local NetInfo database.
.PP
\*(lqniload \-d \-r /locations .\*(rq
replaces the contents of /locations
in the local domain with input
given in \fInidump\fR \*(lqraw\*(rq format.
.SH "SEE ALSO"
nidump(8), niutil(8), netinfo(5),
aliases(5), bootparams(5), bootptab(5), exports(5),
fstab(5), group(5), hosts(5), networks(5), passwd(5),
printcap(5), protocols(5), rpc(5), services(5)
